let a1 = Axios.get("https://mymesta.com/api/v1/properties/314");

let a2 =
  Axios.get("https://mymesta.com/api/v1/search?latitude=55.780626&longitude=37.58973900000001");

Js.Promise.(
  Axios.all2((a1, a2))
  |> then_(
       ((_, r2)) => {
         Js.log(r2##data##results);
         resolve(r2##data)
       }
     )
);

Js.Promise.(
  Axios.get "/user?ID=12345"
  |> then_ (fun resp => resolve (Js.log resp##data))
  |> catch (fun err => resolve (Js.log err))
);

Js.Promise.(
  Axios.all2((Axios.get("/users/1"), Axios.get("/users/1/friends")))
  |> then_(((user, friends)) => resolve(Js.log2(user##data, friends##data)))
  |> catch((err) => resolve(Js.log(err)))
);
/*Js.Promise.(
    Axios.all [|
      get "https://mymesta.com/api/v1/properties/314",
      get "https://mymesta.com/api/v1/search?latitude=55.780626&longitude=37.58973900000001"
    |] |>
    then_ (
      fun resp => {
        let data = resp.(1)##data;
        Js.log data##test;
        resolve resp
      }
    )
  );*/
